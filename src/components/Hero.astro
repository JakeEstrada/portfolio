---
import ScrollIndicator from './ScrollIndicator.astro';

---

<section class="min-h-[85vh] flex items-center border-b border-neutral-200 dark:border-neutral-900">
  <div class="container mx-auto px-6 md:px-12 py-24 md:py-32">
    <div class="max-w-5xl mx-auto text-center">
      <div class="mb-8 font-mono text-sm text-neutral-500 dark:text-neutral-500">
        <span class="terminal-prompt">jake@portfolio</span>:<span class="terminal-path">~</span>$ 
        <span id="whoami-command" class="text-neutral-900 dark:text-neutral-100"></span>
        <span id="whoami-cursor" class="inline-block w-2 h-4 bg-green-400 animate-pulse ml-1" style="display: none;"></span>
      </div>
      
      <div id="hero-content" class="opacity-0 border border-neutral-300 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-950 p-8 md:p-12 max-w-2xl mx-auto">
        <div id="name-text" class="mb-4 font-mono text-2xl md:text-3xl font-semibold text-neutral-900 dark:text-neutral-100">
          Jake Estrada
        </div>
        <div id="title-text" class="mb-6 font-mono text-base md:text-lg text-neutral-700 dark:text-neutral-300">
          Software Engineer
        </div>
        <div id="subtitle-text" class="mb-8 font-mono text-sm md:text-base text-neutral-600 dark:text-neutral-400">
          Full-Stack • Systems • Applied ML
        </div>
        <div id="description-text" class="mb-12 font-mono text-sm md:text-base text-neutral-700 dark:text-neutral-300">
          &gt; Building tools that solve real operational problems
        </div>
        <div class="flex flex-wrap gap-3 justify-center" id="hero-buttons">
          <a href="/projects" class="btn-primary">
            [ projects ]
          </a>
          <a href="/#contact" class="btn-secondary">
            [ contact ]
          </a>
        </div>
      </div>
    </div>
    <ScrollIndicator />
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const whoamiCommandEl = document.getElementById('whoami-command');
    const whoamiCursor = document.getElementById('whoami-cursor');
    const heroContent = document.getElementById('hero-content');
    
    if (!whoamiCommandEl || !whoamiCursor || !heroContent) return;

    const whoamiCommand = "whoami";
    let charIndex = 0;

    function typeWhoami() {
      if (charIndex < whoamiCommand.length && whoamiCommandEl) {
        whoamiCommandEl.textContent = whoamiCommand.substring(0, charIndex + 1);
        charIndex++;
        setTimeout(typeWhoami, 70);
      } else {
        // Hide cursor after typing
        if (whoamiCursor) {
          whoamiCursor.style.display = 'none';
        }
        // Show content after command finishes
        setTimeout(() => {
          heroContent.style.transition = 'opacity 0.8s ease-in';
          heroContent.classList.remove('opacity-0');
          heroContent.classList.add('opacity-100');
        }, 300);
      }
    }

    // Show cursor and start typing
    if (whoamiCursor) {
      whoamiCursor.style.display = 'inline-block';
    }
    setTimeout(typeWhoami, 200);
  });
</script>
